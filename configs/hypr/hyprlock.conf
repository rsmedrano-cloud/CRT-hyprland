# Inspired by JaKooLit, Retroed by Non-Sense Nostalgia
# CRT Phosphor Green - Hyprlock Config
# Based on JaKooLit 2k monitor config                                                         

# CRT Phosphor Green Colors (hardcoded for lock screen independence)
$crt-bg = rgb(0a0a0a)
$crt-green = rgb(00FF00)
$crt-green-bright = rgb(33FF33)
$crt-green-dim = rgb(00AA00)
$crt-green-dark = rgb(004400)
$crt-amber = rgb(FFB000)

$Scripts = $HOME/.config/hypr/scripts

general {
    grace = 1
    fractional_scaling = 2
    immediate_render = true
}

background {
    monitor =
    # Use current wallpaper - ideally a CRT-styled one
    path = $HOME/.config/hypr/wallpaper_effects/.wallpaper_current
    
    color = rgb(0,0,0)

    blur_size = 2
    blur_passes = 2
    noise = 0.02
    contrast = 1.1
    brightness = 0.7
    vibrancy = 0.1
    vibrancy_darkness = 0.0
}

# Date - CRT Green
label {
    monitor =
    text = cmd[update:18000000] echo "<b> $(date +'%A, %-d %B') </b>"
    color = $crt-green-dim
    font_size = 48
    font_family = Terminus (TTF) Bold
    position = 0, -20
    halign = center
    valign = center
}

# Time - Bright Phosphor Green with glow effect
label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%H:%M")"
    color = $crt-green
    font_size = 140
    font_family = Terminus (TTF) Bold
    position = 0, -120
    halign = center
    valign = top
    shadow_passes = 2
    shadow_size = 8
    shadow_color = $crt-green
    shadow_boost = 1.5
}

# Seconds - Smaller
label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%S")"
    color = $crt-green-dim
    font_size = 40
    font_family = Terminus (TTF) Bold
    position = 0, -270
    halign = center
    valign = top
}

# USER - Terminal style prompt
label {
    monitor =
    text = > $USER@$(hostname)
    color = $crt-green
    font_size = 32
    font_family = Terminus (TTF) Bold
    position = 0, 280
    halign = center
    valign = bottom
    shadow_passes = 1
    shadow_size = 3
    shadow_color = $crt-green
}

# INPUT FIELD - CRT Terminal Style
input-field {
    monitor =
    size = 320, 60
    outline_thickness = 2
    dots_size = 0.25
    dots_spacing = 0.2
    dots_center = true
    outer_color = $crt-green-dim
    inner_color = rgba(10, 10, 10, 0.9)
    capslock_color = $crt-amber
    font_color = $crt-green
    fade_on_empty = false
    font_family = Terminus (TTF) Bold
    placeholder_text = <i><span foreground="##00AA00">PASSWORD:</span></i>
    hide_input = false
    position = 0, 150
    halign = center
    valign = bottom
    shadow_passes = 1
    shadow_size = 5
    shadow_color = $crt-green-dark
}

# Fail text
label {
    monitor =
    text = $FAIL <i>ACCESS DENIED</i>
    color = $crt-amber
    font_size = 18
    font_family = Terminus (TTF) Bold
    position = 0, 220
    halign = center
    valign = bottom
}

# Keyboard LAYOUT
label {
    monitor =
    text = $LAYOUT
    color = $crt-green-dim
    font_size = 16
    font_family = Terminus (TTF) Bold
    position = 0, 80
    halign = center
    valign = bottom
}

# uptime
label {
    monitor =
    text = cmd[update:60000] echo "<b> UPTIME: $(uptime -p | sed 's/up //' || $Scripts/UptimeNixOS.sh) </b>"
    color = $crt-green-dim
    font_size = 18
    font_family = Terminus (TTF) Bold
    position = 0, 0
    halign = right
    valign = bottom
}

# battery information
label {
    monitor =
    text = cmd[update:1000] echo "<b> $($Scripts/Battery.sh) </b>"
    color = $crt-green-dim
    font_size = 16
    font_family = Terminus (TTF) Bold
    position = 0, 25
    halign = right
    valign = bottom
}

# weather
label {
    monitor =
    text = cmd[update:3600000] [ -f "$HOME/.cache/.weather_cache" ] && cat "$HOME/.cache/.weather_cache"
    color = $crt-green-dim
    font_size = 16
    font_family = Terminus (TTF) Bold
    position = 50, 0
    halign = left
    valign = bottom
}
